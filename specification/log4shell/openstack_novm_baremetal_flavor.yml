---
version: 1.0
properties:
  platform: openstack
metadata:
  project_name: ARPDemo
  baremetal_instance_num: 1
  virtual_instance_num: 0
  instance_name:
    baremetal:
      - log4shell
    virtual: [ ]
  network_num: 1
  baremetal_reserved: [ ]
network:
  - name: provider
    subnets:
      - name: provider
        version: 4
        cidr: 10.10.0.0/22
        gateway: 10.10.0.1
        dhcp:
          enabled: true
          ip_pool_start: 10.10.0.101
          ip_pool_end: 10.10.3.250
        DNS:
          - 10.10.0.1
          - 8.8.8.8
    router: [ ]
    port: [ ]
instance:
  - name: log4shell
    image:
      format: vmdk
      platform: Linux
      release: ubuntu
      version: '20.04'
      bit: 'amd64'
    flavor:
      type: baremetal
      resource_class: baremetal_small
      name: my-baremetal-flavor
      cpu: 0
      ram: 0
      disk: 0
    network:
      - name: provider
        type: flat
        ip: dhcp
    security_group:
      - name: default
        rule:
          - protocol: tcp
            version: ipv4
            direction: ingress
            port_start: 5901
            port_end: 5901
            remote_ip: 0.0.0.0/0
          - protocol: tcp
            version: ipv4
            direction: ingress
            port_start: 22
            port_end: 22
            remote_ip: 0.0.0.0/0
    key_pair: hkwany-openstack
    prerequisite:
      - default_for_openstack_instance
    requisite:
      file: [ ]
      script: [ ]
    virtual_env: [ ]